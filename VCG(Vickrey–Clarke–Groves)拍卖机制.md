# **Vickrey–Clarke–Groves（VCG）拍卖**

<font color="#dd0g0g">是多件物品的密封竞价拍卖的一种</font>

当VCG拍卖尝试对商品进行社会最优分配时，VCG机制允许从一组可能的结果中选择社会最优的结果。如果竞标者之间可能发生勾结，则VCG的表现将优于 [广义第二价拍卖](https://hwikizh.cyou/wiki/Generalized_second-price_auction) 为卖方产生的收入和分配效率。

社会最优的结果：参与人收益之和最大

# 直观描述

考虑拍卖一组相同产品的拍卖。竞价者可以通过宣布愿意为获得N种商品支付的最高价格来参与竞标。每个买家都可以声明不止一个出价，因为它的出价 [支付意愿](https://hwikizh.cyou/wiki/Willingness-to-pay) 每个单位可能会有所不同，具体取决于接收的单位总数。<font color="#dd0g0g">竞标者是封闭的</font>（仅对拍卖系统可见），因此竞标者在任何时候都看不到其他人的出价。完成所有出价后，拍卖将关闭。

然后，拍卖系统会考虑所有可能的出价组合，<font color="#dd0g0g">并保留使出价总额最大化的出价组合</font>，条件是出价不超过可用产品的总数，并且每个出价者最多可以出价一个使用。中标的投标人将收到其投标中指定的产品数量。但是，他们支付的价格不是他们最初出价时的价格，<font color="#dd0g0g">而是他们的出价对其他出价人造成的边际损害</font>（最多与原始出价一样高）。

这种对其他参与者造成的边际损害（即，每位成功竞标的个人支付的最终价格）可以计算为：**<font color="#dd0g0g">（最佳竞标组合中的竞价总和） \*排除正在考虑的参与者\*） - （还有别的 \*获胜\* 出价者在当前（最佳）出价组合中的出价）</font>**。如果第二最佳出价组合的出价总和与最佳组合的出价总和相同，则买方支付的价格将与他们的初始出价相同。在所有其他情况下，买方支付的价格将更低。

在拍卖结束时，总效用已最大化，因为所有商品都归功于具有最高支付意愿的人。如果代理人是完全理性的，并且没有勾结，我们可以假设已经真实地报告了付款意愿，因为只有对其他投标人的边际损害将由每个参与者承担，因此 [真实报道](https://hwikizh.cyou/wiki/Incentive_compatibility) 一个弱者[主导策略](https://hwikizh.cyou/wiki/Dominant_strategy) 。但是，除非次优出价组合的出价总和等于最佳出价组合的出价总和，否则这种拍卖方式不会使卖方的收入最大化。

# 形式描述

### 符号

https://algorithmic-game-1316943030.cos.ap-nanjing.myqcloud.com/VCG1.PNG

### 任务

https://algorithmic-game-1316943030.cos.ap-nanjing.myqcloud.com/VCG2.PNG

### 解释

https://algorithmic-game-1316943030.cos.ap-nanjing.myqcloud.com/VCG3.PNG

# 例子

## 两个苹果和三个拍卖者

假设在三个竞标者中拍卖了两个苹果。

- 出价者A想要一个苹果，并愿意为该苹果支付5元。
- 出价人B想要一个苹果，并愿意为此支付2元。
- 投标人C想要两个苹果，愿意花6元买两个苹果，但对只买一个苹果而又不买另一个苹果不感兴趣。

**<font color="#dd0g0g">从社会福利(social welfare</font>**，即所有拍卖者的获得价值总和)来看，最优的分配方案是把两个苹果一个给A一个给B，这样能获得5+2=7元的总价值，这个方案比把两个苹果全部给C要好(7>6)，因此按照最优方案分配后，A可以获得5元的价值(value)，B可以获得2元的价值，而C获得0元的价值

然后，在VCG下，我们该如何收取各个拍卖者的拍卖费用呢？VCG的原则是：**<font color="#dd0g0g">当没有此拍卖者时，其他所有拍卖者能获得最大价值 减去 在有此拍卖者存在时其他拍卖者能获得的最大价值</font>**

1. 对于A的收费：若不存在A，那么两个苹果肯定要全卖给C(6>2)，此时其他所有拍卖者(B和C)获得最大价值的为6；若存在A，那么两个苹果肯定是一个给A一个给B，那么其他所有拍卖者(B和C)的最大价值为2=2+0(C什么也没有)，所以A的收费就是6-2=4元；其实这里的2还可以这么理解：所有人获得的最大价值是7，排除掉A后，所有人价值变成了7-5=2元
2. **对于B的收费**：跟上面一样，若不存在B，则其他所有拍卖者(A和C)获得最大价值是6；若存在B，则其他所有拍卖者(A和C)获得最大价值是5=5+0(C什么也没有)，所以B的收费为6-5=1元
3. **对于C的收费**：若不存在C，则其他所有拍卖者(A和B)最大价值是7，若存在C，而其他所有拍卖者(A和B)的最大价值还是7，因此C的收费为：7-7=0元

经过这轮拍卖后，各个拍卖者的资产变化为：A花了4元，获得价值5元的苹果，增量为+1元；B花了1元，获得了2元价值的苹果，增量为+1元；而C既没有竞得也没有产生扣费，因此增量为0元

## 价值不同的两个苹果和两个拍卖者

上面的例子中两个苹果的价值本身没有区别，只是在不同的拍卖者眼中价值不一样，而这个例子会给出不同的拍卖者对于不同的苹果价值评估也会不一样，情况如下：

A只想要一个苹果，对苹果1的出价是10元，对苹果2的出价是5元 B只想要一个苹果，对苹果1的出价是5元，而对苹果2的出价是3元 **<font color="#dd0g0g">从社会福利来看</font>**，最优的分配方案为：把苹果1给A，把苹果2给B，此时总价值可以达到13元，那么在这种分配下，收费如下：

1. **对于A的收费：** 若不存在A，B可以拿到苹果1，因此其他所有拍卖者(只有B)的总价值为5元；若存在A，B只能拿到苹果2，因此总价值为3元，所以A的收费为5-3=2元
2. **对于B的收费：** 若不存在B，A可以拿到苹果1，此时总价值为10元；若存在B，A此时仍然可以拿到苹果1，此时总价值为10元，所以对B的收费为10-10=0元

经过这轮拍卖后，各个拍卖者的资产变化为：A花了2元，拿到了价值10元的苹果，增量为+8元；B没花钱，但仍然拿到了价值3元的苹果，增量为+3元

这里可以思考一下：**为什么B没有花钱还能拿到苹果？** 当不存在B时，两个苹果只能卖一个出去给A，浪费掉一个，而B的加入刚好把这个苹果消耗了，反正也卖不出去，不如给B了，因此就对B没有收费，这里体现的是：B的加入并未对其他拍卖者产生任何影响，因此就不收费咯；**所以VCG收费通俗的讲就是：此拍卖者付出的钱等于他的存在对整个社会福利产生的影响**